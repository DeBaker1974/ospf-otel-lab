{"attributes":{"controlGroupInput":{"panelsJSON":"{}"},"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"}}"},"optionsJSON":"{\"hidePanelTitles\":false,\"useMargins\":true,\"autoApplyFilters\":true,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false}","panelsJSON":"[{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"CSR23 - Interface Status\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 2 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| WHERE network.interface.admin.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp),\\r\\n    admin_status = LAST(network.interface.admin.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Status = CASE(\\r\\n      oper_status == 1, \\\"ðŸŸ¢ UP\\\",\\r\\n      oper_status == 2, \\\"ðŸ”´ DOWN\\\",\\r\\n      \\\"âšª UNKNOWN\\\"\\r\\n    ),\\r\\n    Admin = CASE(\\r\\n      admin_status == 1, \\\"UP\\\",\\r\\n      admin_status == 2, \\\"DOWN\\\",\\r\\n      \\\"UNKNOWN\\\"\\r\\n    )\\r\\n| KEEP if.name, Status, Admin, last_seen\\r\\n| SORT if.name\"},\"attributes\":{\"title\":\"Table if.name & Status & Admin & last_seen\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"0c889b04-8959-42bd-bb8a-294c0f90e305\":{\"index\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 2 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| WHERE network.interface.admin.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp),\\r\\n    admin_status = LAST(network.interface.admin.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Status = CASE(\\r\\n      oper_status == 1, \\\"ðŸŸ¢ UP\\\",\\r\\n      oper_status == 2, \\\"ðŸ”´ DOWN\\\",\\r\\n      \\\"âšª UNKNOWN\\\"\\r\\n    ),\\r\\n    Admin = CASE(\\r\\n      admin_status == 1, \\\"UP\\\",\\r\\n      admin_status == 2, \\\"DOWN\\\",\\r\\n      \\\"UNKNOWN\\\"\\r\\n    )\\r\\n| KEEP if.name, Status, Admin, last_seen\\r\\n| SORT if.name\"},\"columns\":[{\"columnId\":\"if.name\",\"fieldName\":\"if.name\",\"label\":\"if.name\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Status\",\"fieldName\":\"Status\",\"label\":\"Status\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Admin\",\"fieldName\":\"Admin\",\"label\":\"Admin\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"last_seen\",\"fieldName\":\"last_seen\",\"label\":\"last_seen\",\"customLabel\":false,\"meta\":{\"type\":\"date\",\"esType\":\"date\"},\"inMetricDimension\":true}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"title\":\"metrics-snmp.interface-prod\",\"timeField\":\"@timestamp\"}]}},\"filters\":[],\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 2 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| WHERE network.interface.admin.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp),\\r\\n    admin_status = LAST(network.interface.admin.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Status = CASE(\\r\\n      oper_status == 1, \\\"ðŸŸ¢ UP\\\",\\r\\n      oper_status == 2, \\\"ðŸ”´ DOWN\\\",\\r\\n      \\\"âšª UNKNOWN\\\"\\r\\n    ),\\r\\n    Admin = CASE(\\r\\n      admin_status == 1, \\\"UP\\\",\\r\\n      admin_status == 2, \\\"DOWN\\\",\\r\\n      \\\"UNKNOWN\\\"\\r\\n    )\\r\\n| KEEP if.name, Status, Admin, last_seen\\r\\n| SORT if.name\"},\"visualization\":{\"showRowNumbers\":true,\"layerId\":\"0c889b04-8959-42bd-bb8a-294c0f90e305\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"if.name\"},{\"columnId\":\"Status\"},{\"columnId\":\"Admin\"},{\"columnId\":\"last_seen\"}]},\"adHocDataViews\":{\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\":{\"id\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"title\":\"metrics-snmp.interface-prod\",\"timeFieldName\":\"@timestamp\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"metrics-snmp.interface-prod\",\"allowHidden\":false,\"managed\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsDatatable\",\"version\":2}},\"panelIndex\":\"4a83c17e-cbc1-4173-84d8-c5fcc77aeb2b\",\"gridData\":{\"y\":0,\"x\":0,\"w\":48,\"h\":18,\"i\":\"4a83c17e-cbc1-4173-84d8-c5fcc77aeb2b\"}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Fault Detection (Missing Neighbors)\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 2 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp),\\r\\n    admin_status = LAST(network.interface.admin.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Neighbor = CASE(\\r\\n      if.name == \\\"eth1\\\", \\\"csr26\\\",\\r\\n      if.name == \\\"eth2\\\", \\\"csr28\\\",\\r\\n      if.name == \\\"eth3\\\", \\\"csr24\\\",\\r\\n      if.name == \\\"eth4\\\", \\\"csr25\\\",\\r\\n      if.name == \\\"eth5\\\", \\\"csr27\\\",\\r\\n      \\\"unknown\\\"\\r\\n    ),\\r\\n    Status = CASE(\\r\\n      oper_status == 2 AND admin_status == 2, \\\"ðŸ”´ ADMIN DOWN\\\",\\r\\n      oper_status == 2, \\\"ðŸŸ  LINK DOWN\\\",\\r\\n      oper_status == 1, \\\"ðŸŸ¢ UP\\\",\\r\\n      \\\"âšª UNKNOWN\\\"\\r\\n    )\\r\\n| WHERE Status IN (\\\"ðŸ”´ ADMIN DOWN\\\", \\\"ðŸŸ  LINK DOWN\\\")\\r\\n| KEEP if.name, Neighbor, Status, oper_status, last_seen\\r\\n| SORT if.name\"},\"attributes\":{\"title\":\"Table oper_status & if.name & Neighbor\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"0dcf9fa5-39ac-4487-a49b-3b1fb616c746\":{\"index\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 2 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp),\\r\\n    admin_status = LAST(network.interface.admin.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Neighbor = CASE(\\r\\n      if.name == \\\"eth1\\\", \\\"csr26\\\",\\r\\n      if.name == \\\"eth2\\\", \\\"csr28\\\",\\r\\n      if.name == \\\"eth3\\\", \\\"csr24\\\",\\r\\n      if.name == \\\"eth4\\\", \\\"csr25\\\",\\r\\n      if.name == \\\"eth5\\\", \\\"csr27\\\",\\r\\n      \\\"unknown\\\"\\r\\n    ),\\r\\n    Status = CASE(\\r\\n      oper_status == 2 AND admin_status == 2, \\\"ðŸ”´ ADMIN DOWN\\\",\\r\\n      oper_status == 2, \\\"ðŸŸ  LINK DOWN\\\",\\r\\n      oper_status == 1, \\\"ðŸŸ¢ UP\\\",\\r\\n      \\\"âšª UNKNOWN\\\"\\r\\n    )\\r\\n| WHERE Status IN (\\\"ðŸ”´ ADMIN DOWN\\\", \\\"ðŸŸ  LINK DOWN\\\")\\r\\n| KEEP if.name, Neighbor, Status, oper_status, last_seen\\r\\n| SORT if.name\"},\"columns\":[{\"columnId\":\"if.name\",\"fieldName\":\"if.name\",\"label\":\"if.name\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}},{\"columnId\":\"Neighbor\",\"fieldName\":\"Neighbor\",\"label\":\"Neighbor\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}},{\"columnId\":\"0a808a3f-148d-483b-b925-d62305d6d92b\",\"fieldName\":\"Status\",\"meta\":{\"type\":\"string\",\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"metrics-snmp.interface-prod\",\"sourceField\":\"Status\"},\"params\":{\"id\":\"string\"}},\"label\":\"Status\"}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"title\":\"metrics-snmp.interface-prod\",\"timeField\":\"@timestamp\"}]}},\"filters\":[],\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 2 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp),\\r\\n    admin_status = LAST(network.interface.admin.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Neighbor = CASE(\\r\\n      if.name == \\\"eth1\\\", \\\"csr26\\\",\\r\\n      if.name == \\\"eth2\\\", \\\"csr28\\\",\\r\\n      if.name == \\\"eth3\\\", \\\"csr24\\\",\\r\\n      if.name == \\\"eth4\\\", \\\"csr25\\\",\\r\\n      if.name == \\\"eth5\\\", \\\"csr27\\\",\\r\\n      \\\"unknown\\\"\\r\\n    ),\\r\\n    Status = CASE(\\r\\n      oper_status == 2 AND admin_status == 2, \\\"ðŸ”´ ADMIN DOWN\\\",\\r\\n      oper_status == 2, \\\"ðŸŸ  LINK DOWN\\\",\\r\\n      oper_status == 1, \\\"ðŸŸ¢ UP\\\",\\r\\n      \\\"âšª UNKNOWN\\\"\\r\\n    )\\r\\n| WHERE Status IN (\\\"ðŸ”´ ADMIN DOWN\\\", \\\"ðŸŸ  LINK DOWN\\\")\\r\\n| KEEP if.name, Neighbor, Status, oper_status, last_seen\\r\\n| SORT if.name\"},\"visualization\":{\"showRowNumbers\":true,\"layerId\":\"0dcf9fa5-39ac-4487-a49b-3b1fb616c746\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"if.name\"},{\"columnId\":\"Neighbor\"},{\"columnId\":\"0a808a3f-148d-483b-b925-d62305d6d92b\",\"isTransposed\":false,\"isMetric\":false}]},\"adHocDataViews\":{\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\":{\"id\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"title\":\"metrics-snmp.interface-prod\",\"timeFieldName\":\"@timestamp\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"metrics-snmp.interface-prod\",\"allowHidden\":false,\"managed\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsDatatable\",\"version\":2}},\"panelIndex\":\"c731d5db-70d2-4934-ac43-cb81b06bd444\",\"gridData\":{\"y\":18,\"x\":0,\"w\":24,\"h\":11,\"i\":\"c731d5db-70d2-4934-ac43-cb81b06bd444\"}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Interface Health Summary\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_update = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp)\\r\\n  BY \\r\\n    Router = host.name,\\r\\n    if.name\\r\\n| EVAL is_up = CASE(oper_status == 1, 1, 0)\\r\\n| STATS\\r\\n    total_interfaces = COUNT(*),\\r\\n    interfaces_up = SUM(is_up),\\r\\n    last_seen = MAX(last_update)\\r\\n  BY Router\\r\\n| EVAL\\r\\n    interfaces_down = total_interfaces - interfaces_up,\\r\\n    Health = CASE(\\r\\n      interfaces_down == 0, \\\"ðŸŸ¢ Healthy\\\",\\r\\n      interfaces_down == 1, \\\"ðŸŸ¡ Degraded\\\",\\r\\n      interfaces_down >= 2, \\\"ðŸ”´ Critical\\\",\\r\\n      \\\"âšª Unknown\\\"\\r\\n    ),\\r\\n    Status_Detail = CONCAT(TO_STRING(interfaces_up), \\\"/\\\", TO_STRING(total_interfaces), \\\" UP\\\")\\r\\n| KEEP Router, Health, Status_Detail, interfaces_up, interfaces_down, last_seen\\r\\n| SORT Router\"},\"attributes\":{\"title\":\"Table interfaces_up & Router & Health\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"ffef49b1-73ba-41ed-bf70-70927dfc3177\":{\"index\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_update = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp)\\r\\n  BY \\r\\n    Router = host.name,\\r\\n    if.name\\r\\n| EVAL is_up = CASE(oper_status == 1, 1, 0)\\r\\n| STATS\\r\\n    total_interfaces = COUNT(*),\\r\\n    interfaces_up = SUM(is_up),\\r\\n    last_seen = MAX(last_update)\\r\\n  BY Router\\r\\n| EVAL\\r\\n    interfaces_down = total_interfaces - interfaces_up,\\r\\n    Health = CASE(\\r\\n      interfaces_down == 0, \\\"ðŸŸ¢ Healthy\\\",\\r\\n      interfaces_down == 1, \\\"ðŸŸ¡ Degraded\\\",\\r\\n      interfaces_down >= 2, \\\"ðŸ”´ Critical\\\",\\r\\n      \\\"âšª Unknown\\\"\\r\\n    ),\\r\\n    Status_Detail = CONCAT(TO_STRING(interfaces_up), \\\"/\\\", TO_STRING(total_interfaces), \\\" UP\\\")\\r\\n| KEEP Router, Health, Status_Detail, interfaces_up, interfaces_down, last_seen\\r\\n| SORT Router\"},\"columns\":[{\"columnId\":\"interfaces_up\",\"fieldName\":\"interfaces_up\",\"label\":\"interfaces_up\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"long\"},\"inMetricDimension\":true},{\"columnId\":\"Router\",\"fieldName\":\"Router\",\"label\":\"Router\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}},{\"columnId\":\"Health\",\"fieldName\":\"Health\",\"label\":\"Health\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"title\":\"metrics-snmp.interface-prod\",\"timeField\":\"@timestamp\"}]}},\"filters\":[],\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_update = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp)\\r\\n  BY \\r\\n    Router = host.name,\\r\\n    if.name\\r\\n| EVAL is_up = CASE(oper_status == 1, 1, 0)\\r\\n| STATS\\r\\n    total_interfaces = COUNT(*),\\r\\n    interfaces_up = SUM(is_up),\\r\\n    last_seen = MAX(last_update)\\r\\n  BY Router\\r\\n| EVAL\\r\\n    interfaces_down = total_interfaces - interfaces_up,\\r\\n    Health = CASE(\\r\\n      interfaces_down == 0, \\\"ðŸŸ¢ Healthy\\\",\\r\\n      interfaces_down == 1, \\\"ðŸŸ¡ Degraded\\\",\\r\\n      interfaces_down >= 2, \\\"ðŸ”´ Critical\\\",\\r\\n      \\\"âšª Unknown\\\"\\r\\n    ),\\r\\n    Status_Detail = CONCAT(TO_STRING(interfaces_up), \\\"/\\\", TO_STRING(total_interfaces), \\\" UP\\\")\\r\\n| KEEP Router, Health, Status_Detail, interfaces_up, interfaces_down, last_seen\\r\\n| SORT Router\"},\"visualization\":{\"showRowNumbers\":true,\"layerId\":\"ffef49b1-73ba-41ed-bf70-70927dfc3177\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"interfaces_up\"},{\"columnId\":\"Router\"},{\"columnId\":\"Health\"}]},\"adHocDataViews\":{\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\":{\"id\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"title\":\"metrics-snmp.interface-prod\",\"timeFieldName\":\"@timestamp\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"metrics-snmp.interface-prod\",\"allowHidden\":false,\"managed\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsDatatable\",\"version\":2}},\"panelIndex\":\"2c4695f2-64ca-4a77-9173-2c43da16f1e2\",\"gridData\":{\"y\":18,\"x\":24,\"w\":24,\"h\":11,\"i\":\"2c4695f2-64ca-4a77-9173-2c43da16f1e2\"}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Real-Time Interface Monitor\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Neighbor = CASE(\\r\\n      if.name == \\\"eth1\\\", \\\"csr26\\\",\\r\\n      if.name == \\\"eth2\\\", \\\"csr28\\\",\\r\\n      if.name == \\\"eth3\\\", \\\"csr24\\\",\\r\\n      if.name == \\\"eth4\\\", \\\"csr25\\\",\\r\\n      if.name == \\\"eth5\\\", \\\"csr27\\\",\\r\\n      \\\"unknown\\\"\\r\\n    ),\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Status = CASE(\\r\\n      oper_status == 2, \\\"DOWN ðŸ”´\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 60, \\\"LIVE ðŸŸ¢\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 120, \\\"RECENT ðŸŸ¡\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 300, \\\"STALE ðŸŸ \\\",\\r\\n      \\\"UNKNOWN âšª\\\"\\r\\n    )\\r\\n| RENAME if.name AS Interface\\r\\n| KEEP Interface, Neighbor, Status, Seconds_Ago, last_seen\\r\\n| SORT Interface ASC\"},\"attributes\":{\"title\":\"Table Seconds_Ago & Interface & Neighbor\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"67cc2316-ff25-4226-a92d-fd758f2b7319\":{\"index\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Neighbor = CASE(\\r\\n      if.name == \\\"eth1\\\", \\\"csr26\\\",\\r\\n      if.name == \\\"eth2\\\", \\\"csr28\\\",\\r\\n      if.name == \\\"eth3\\\", \\\"csr24\\\",\\r\\n      if.name == \\\"eth4\\\", \\\"csr25\\\",\\r\\n      if.name == \\\"eth5\\\", \\\"csr27\\\",\\r\\n      \\\"unknown\\\"\\r\\n    ),\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Status = CASE(\\r\\n      oper_status == 2, \\\"DOWN ðŸ”´\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 60, \\\"LIVE ðŸŸ¢\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 120, \\\"RECENT ðŸŸ¡\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 300, \\\"STALE ðŸŸ \\\",\\r\\n      \\\"UNKNOWN âšª\\\"\\r\\n    )\\r\\n| RENAME if.name AS Interface\\r\\n| KEEP Interface, Neighbor, Status, Seconds_Ago, last_seen\\r\\n| SORT Interface ASC\"},\"columns\":[{\"columnId\":\"Seconds_Ago\",\"fieldName\":\"Seconds_Ago\",\"label\":\"Seconds_Ago\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"integer\"},\"inMetricDimension\":true},{\"columnId\":\"Interface\",\"fieldName\":\"Interface\",\"label\":\"Interface\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}},{\"columnId\":\"Neighbor\",\"fieldName\":\"Neighbor\",\"label\":\"Neighbor\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}},{\"columnId\":\"ff9427c3-d904-4a31-85d4-de988af4ece8\",\"fieldName\":\"Status\",\"meta\":{\"type\":\"string\",\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"metrics-snmp.interface-prod\",\"sourceField\":\"Status\"},\"params\":{\"id\":\"string\"}},\"label\":\"Status\"}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"title\":\"metrics-snmp.interface-prod\",\"timeField\":\"@timestamp\"}]}},\"filters\":[],\"query\":{\"esql\":\"FROM metrics-snmp.interface-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE if.name IN (\\\"eth1\\\", \\\"eth2\\\", \\\"eth3\\\", \\\"eth4\\\", \\\"eth5\\\")\\r\\n| WHERE network.interface.status IS NOT NULL\\r\\n| SORT @timestamp DESC\\r\\n| STATS \\r\\n    last_seen = MAX(@timestamp),\\r\\n    oper_status = LAST(network.interface.status, @timestamp)\\r\\n  BY if.name\\r\\n| EVAL \\r\\n    Neighbor = CASE(\\r\\n      if.name == \\\"eth1\\\", \\\"csr26\\\",\\r\\n      if.name == \\\"eth2\\\", \\\"csr28\\\",\\r\\n      if.name == \\\"eth3\\\", \\\"csr24\\\",\\r\\n      if.name == \\\"eth4\\\", \\\"csr25\\\",\\r\\n      if.name == \\\"eth5\\\", \\\"csr27\\\",\\r\\n      \\\"unknown\\\"\\r\\n    ),\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Status = CASE(\\r\\n      oper_status == 2, \\\"DOWN ðŸ”´\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 60, \\\"LIVE ðŸŸ¢\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 120, \\\"RECENT ðŸŸ¡\\\",\\r\\n      oper_status == 1 AND Seconds_Ago < 300, \\\"STALE ðŸŸ \\\",\\r\\n      \\\"UNKNOWN âšª\\\"\\r\\n    )\\r\\n| RENAME if.name AS Interface\\r\\n| KEEP Interface, Neighbor, Status, Seconds_Ago, last_seen\\r\\n| SORT Interface ASC\"},\"visualization\":{\"showRowNumbers\":true,\"layerId\":\"67cc2316-ff25-4226-a92d-fd758f2b7319\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"Seconds_Ago\"},{\"columnId\":\"Interface\"},{\"columnId\":\"Neighbor\"},{\"columnId\":\"ff9427c3-d904-4a31-85d4-de988af4ece8\",\"isTransposed\":false,\"isMetric\":false}]},\"adHocDataViews\":{\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\":{\"id\":\"d306f561c94db02cf587c72cd072c351f6d3af2b909918bc5f1fa1025250b91c\",\"title\":\"metrics-snmp.interface-prod\",\"timeFieldName\":\"@timestamp\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"metrics-snmp.interface-prod\",\"allowHidden\":false,\"managed\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsDatatable\",\"version\":2}},\"panelIndex\":\"23c364bb-ec38-4bdc-bdc0-365aafed43cc\",\"gridData\":{\"y\":29,\"x\":0,\"w\":48,\"h\":14,\"i\":\"23c364bb-ec38-4bdc-bdc0-365aafed43cc\"}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_seen = MAX(@timestamp),\\r\\n    link_count = COUNT(*)\\r\\n  BY \\r\\n    Router = host.name, \\r\\n    Neighbor = network.lldp.rem.sysname\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Status = CASE(\\r\\n      Seconds_Ago < 60, \\\"ðŸŸ¢ ACTIVE\\\",\\r\\n      Seconds_Ago < 90, \\\"ðŸŸ¡ WARNING\\\",\\r\\n      Seconds_Ago < 120, \\\"ðŸŸ  STALE\\\",\\r\\n      \\\"ðŸ”´ DOWN\\\"\\r\\n    ),\\r\\n    Age = CASE(\\r\\n      Seconds_Ago < 60, CONCAT(TO_STRING(Seconds_Ago), \\\"s\\\"),\\r\\n      CONCAT(TO_STRING(ROUND(Seconds_Ago / 60.0, 1)), \\\"m\\\")\\r\\n    )\\r\\n| KEEP Router, Neighbor, Status, Age, link_count\\r\\n| SORT Router ASC, Neighbor ASC\\r\\n\\r\\n\\r\\n\"},\"attributes\":{\"title\":\"Table Router & Neighbor & Status & Age & link_count\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"2ce40248-9191-41e7-aa49-a87f29f97cbd\":{\"index\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_seen = MAX(@timestamp),\\r\\n    link_count = COUNT(*)\\r\\n  BY \\r\\n    Router = host.name, \\r\\n    Neighbor = network.lldp.rem.sysname\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Status = CASE(\\r\\n      Seconds_Ago < 60, \\\"ðŸŸ¢ ACTIVE\\\",\\r\\n      Seconds_Ago < 90, \\\"ðŸŸ¡ WARNING\\\",\\r\\n      Seconds_Ago < 120, \\\"ðŸŸ  STALE\\\",\\r\\n      \\\"ðŸ”´ DOWN\\\"\\r\\n    ),\\r\\n    Age = CASE(\\r\\n      Seconds_Ago < 60, CONCAT(TO_STRING(Seconds_Ago), \\\"s\\\"),\\r\\n      CONCAT(TO_STRING(ROUND(Seconds_Ago / 60.0, 1)), \\\"m\\\")\\r\\n    )\\r\\n| KEEP Router, Neighbor, Status, Age, link_count\\r\\n| SORT Router ASC, Neighbor ASC\\r\\n\\r\\n\\r\\n\"},\"columns\":[{\"columnId\":\"Router\",\"fieldName\":\"Router\",\"label\":\"Router\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Neighbor\",\"fieldName\":\"Neighbor\",\"label\":\"Neighbor\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Status\",\"fieldName\":\"Status\",\"label\":\"Status\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Age\",\"fieldName\":\"Age\",\"label\":\"Age\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"link_count\",\"fieldName\":\"link_count\",\"label\":\"link_count\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"long\"},\"inMetricDimension\":true}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"title\":\"metrics-snmp.lldp-prod\"}]}},\"filters\":[],\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_seen = MAX(@timestamp),\\r\\n    link_count = COUNT(*)\\r\\n  BY \\r\\n    Router = host.name, \\r\\n    Neighbor = network.lldp.rem.sysname\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Status = CASE(\\r\\n      Seconds_Ago < 60, \\\"ðŸŸ¢ ACTIVE\\\",\\r\\n      Seconds_Ago < 90, \\\"ðŸŸ¡ WARNING\\\",\\r\\n      Seconds_Ago < 120, \\\"ðŸŸ  STALE\\\",\\r\\n      \\\"ðŸ”´ DOWN\\\"\\r\\n    ),\\r\\n    Age = CASE(\\r\\n      Seconds_Ago < 60, CONCAT(TO_STRING(Seconds_Ago), \\\"s\\\"),\\r\\n      CONCAT(TO_STRING(ROUND(Seconds_Ago / 60.0, 1)), \\\"m\\\")\\r\\n    )\\r\\n| KEEP Router, Neighbor, Status, Age, link_count\\r\\n| SORT Router ASC, Neighbor ASC\\r\\n\\r\\n\\r\\n\"},\"visualization\":{\"layerId\":\"2ce40248-9191-41e7-aa49-a87f29f97cbd\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"Router\"},{\"columnId\":\"Neighbor\"},{\"columnId\":\"Status\"},{\"columnId\":\"Age\"},{\"columnId\":\"link_count\"}]},\"adHocDataViews\":{\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\":{\"id\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"title\":\"metrics-snmp.lldp-prod\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"metrics-snmp.lldp-prod\",\"allowHidden\":false,\"managed\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsDatatable\",\"version\":2}},\"panelIndex\":\"8771ed9f-d7a6-49e2-87b8-cc3b34f106f9\",\"gridData\":{\"y\":0,\"x\":0,\"w\":24,\"h\":15,\"i\":\"8771ed9f-d7a6-49e2-87b8-cc3b34f106f9\",\"sectionId\":\"c5d78583-a997-4f2e-8406-86f5182bfb80\"}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Summary Dashboard (Neighbor Count per Router\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_update = MAX(@timestamp),\\r\\n    neighbor_count = COUNT_DISTINCT(network.lldp.rem.sysname),\\r\\n    total_packets = COUNT(*)\\r\\n  BY Router = host.name\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_update, NOW()),\\r\\n    Health = CASE(\\r\\n      neighbor_count >= 4 AND Seconds_Ago < 60, \\\"âœ… HEALTHY\\\",\\r\\n      neighbor_count >= 3 AND Seconds_Ago < 90, \\\"âš ï¸ DEGRADED\\\",\\r\\n      \\\"âŒ CRITICAL\\\"\\r\\n    )\\r\\n| KEEP Router, Health, neighbor_count, Seconds_Ago, total_packets\\r\\n| SORT Router ASC\\r\\n\"},\"attributes\":{\"title\":\"neighbor_count & Seconds_Ago & total_packets of Health\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"deeba635-4d48-4268-9b76-b327bd303098\":{\"index\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_update = MAX(@timestamp),\\r\\n    neighbor_count = COUNT_DISTINCT(network.lldp.rem.sysname),\\r\\n    total_packets = COUNT(*)\\r\\n  BY Router = host.name\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_update, NOW()),\\r\\n    Health = CASE(\\r\\n      neighbor_count >= 4 AND Seconds_Ago < 60, \\\"âœ… HEALTHY\\\",\\r\\n      neighbor_count >= 3 AND Seconds_Ago < 90, \\\"âš ï¸ DEGRADED\\\",\\r\\n      \\\"âŒ CRITICAL\\\"\\r\\n    )\\r\\n| KEEP Router, Health, neighbor_count, Seconds_Ago, total_packets\\r\\n| SORT Router ASC\\r\\n\"},\"columns\":[{\"columnId\":\"Router\",\"fieldName\":\"Router\",\"label\":\"Router\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Health\",\"fieldName\":\"Health\",\"label\":\"Health\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"neighbor_count\",\"fieldName\":\"neighbor_count\",\"label\":\"neighbor_count\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"long\"},\"inMetricDimension\":true},{\"columnId\":\"Seconds_Ago\",\"fieldName\":\"Seconds_Ago\",\"label\":\"Seconds_Ago\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"integer\"},\"inMetricDimension\":true},{\"columnId\":\"total_packets\",\"fieldName\":\"total_packets\",\"label\":\"total_packets\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"long\"},\"inMetricDimension\":true}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"title\":\"metrics-snmp.lldp-prod\"}]}},\"filters\":[],\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE @timestamp > NOW() - 5 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_update = MAX(@timestamp),\\r\\n    neighbor_count = COUNT_DISTINCT(network.lldp.rem.sysname),\\r\\n    total_packets = COUNT(*)\\r\\n  BY Router = host.name\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_update, NOW()),\\r\\n    Health = CASE(\\r\\n      neighbor_count >= 4 AND Seconds_Ago < 60, \\\"âœ… HEALTHY\\\",\\r\\n      neighbor_count >= 3 AND Seconds_Ago < 90, \\\"âš ï¸ DEGRADED\\\",\\r\\n      \\\"âŒ CRITICAL\\\"\\r\\n    )\\r\\n| KEEP Router, Health, neighbor_count, Seconds_Ago, total_packets\\r\\n| SORT Router ASC\\r\\n\"},\"visualization\":{\"layerId\":\"deeba635-4d48-4268-9b76-b327bd303098\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"Router\"},{\"columnId\":\"Health\"},{\"columnId\":\"neighbor_count\"},{\"columnId\":\"Seconds_Ago\"},{\"columnId\":\"total_packets\"}]},\"adHocDataViews\":{\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\":{\"id\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"title\":\"metrics-snmp.lldp-prod\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"metrics-snmp.lldp-prod\",\"allowHidden\":false,\"managed\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsDatatable\",\"version\":2}},\"panelIndex\":\"6bdc88a6-c6b1-4a5f-959d-66576a6d7b64\",\"gridData\":{\"y\":0,\"x\":24,\"w\":24,\"h\":15,\"i\":\"6bdc88a6-c6b1-4a5f-959d-66576a6d7b64\",\"sectionId\":\"c5d78583-a997-4f2e-8406-86f5182bfb80\"}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Network-Wide View (All Routers):\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 30 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_seen = MAX(@timestamp),\\r\\n    packet_count = COUNT(*)\\r\\n  BY \\r\\n    Router = host.name, \\r\\n    Neighbor = network.lldp.rem.sysname\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Minutes_Ago = ROUND(DATE_DIFF(\\\"minutes\\\", last_seen, NOW()), 1),\\r\\n    Status = CASE(\\r\\n      Seconds_Ago < 60, \\\"ðŸŸ¢ ACTIVE\\\",\\r\\n      Seconds_Ago < 90, \\\"ðŸŸ¡ WARNING\\\",\\r\\n      Seconds_Ago < 120, \\\"ðŸŸ  STALE\\\",\\r\\n      \\\"ðŸ”´ DOWN\\\"\\r\\n    ),\\r\\n    Age_Display = CASE(\\r\\n      Seconds_Ago < 60, CONCAT(TO_STRING(Seconds_Ago), \\\"s\\\"),\\r\\n      Seconds_Ago < 3600, CONCAT(TO_STRING(Minutes_Ago), \\\"m\\\"),\\r\\n      CONCAT(TO_STRING(ROUND(Minutes_Ago / 60.0, 1)), \\\"h\\\")\\r\\n    )\\r\\n| KEEP Router, Neighbor, Status, Age_Display, Seconds_Ago, last_seen, packet_count\\r\\n| SORT Neighbor ASC\\r\\n\"},\"attributes\":{\"title\":\"Table Router & Neighbor & Status & Age_Display & Seconds_Ago\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"7ecd0cae-bc23-47c3-a33d-5ae98155b91d\":{\"index\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 30 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_seen = MAX(@timestamp),\\r\\n    packet_count = COUNT(*)\\r\\n  BY \\r\\n    Router = host.name, \\r\\n    Neighbor = network.lldp.rem.sysname\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Minutes_Ago = ROUND(DATE_DIFF(\\\"minutes\\\", last_seen, NOW()), 1),\\r\\n    Status = CASE(\\r\\n      Seconds_Ago < 60, \\\"ðŸŸ¢ ACTIVE\\\",\\r\\n      Seconds_Ago < 90, \\\"ðŸŸ¡ WARNING\\\",\\r\\n      Seconds_Ago < 120, \\\"ðŸŸ  STALE\\\",\\r\\n      \\\"ðŸ”´ DOWN\\\"\\r\\n    ),\\r\\n    Age_Display = CASE(\\r\\n      Seconds_Ago < 60, CONCAT(TO_STRING(Seconds_Ago), \\\"s\\\"),\\r\\n      Seconds_Ago < 3600, CONCAT(TO_STRING(Minutes_Ago), \\\"m\\\"),\\r\\n      CONCAT(TO_STRING(ROUND(Minutes_Ago / 60.0, 1)), \\\"h\\\")\\r\\n    )\\r\\n| KEEP Router, Neighbor, Status, Age_Display, Seconds_Ago, last_seen, packet_count\\r\\n| SORT Neighbor ASC\\r\\n\"},\"columns\":[{\"columnId\":\"Router\",\"fieldName\":\"Router\",\"label\":\"Router\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Neighbor\",\"fieldName\":\"Neighbor\",\"label\":\"Neighbor\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Status\",\"fieldName\":\"Status\",\"label\":\"Status\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Age_Display\",\"fieldName\":\"Age_Display\",\"label\":\"Age_Display\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"},\"inMetricDimension\":true},{\"columnId\":\"Seconds_Ago\",\"fieldName\":\"Seconds_Ago\",\"label\":\"Seconds_Ago\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"integer\"},\"inMetricDimension\":true}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"title\":\"metrics-snmp.lldp-prod\"}]}},\"filters\":[],\"query\":{\"esql\":\"From metrics-snmp.lldp-prod\\r\\n| WHERE host.name == \\\"csr23\\\"\\r\\n| WHERE @timestamp > NOW() - 30 minutes\\r\\n| WHERE network.lldp.rem.sysname IS NOT NULL\\r\\n| STATS\\r\\n    last_seen = MAX(@timestamp),\\r\\n    packet_count = COUNT(*)\\r\\n  BY \\r\\n    Router = host.name, \\r\\n    Neighbor = network.lldp.rem.sysname\\r\\n| EVAL\\r\\n    Seconds_Ago = DATE_DIFF(\\\"seconds\\\", last_seen, NOW()),\\r\\n    Minutes_Ago = ROUND(DATE_DIFF(\\\"minutes\\\", last_seen, NOW()), 1),\\r\\n    Status = CASE(\\r\\n      Seconds_Ago < 60, \\\"ðŸŸ¢ ACTIVE\\\",\\r\\n      Seconds_Ago < 90, \\\"ðŸŸ¡ WARNING\\\",\\r\\n      Seconds_Ago < 120, \\\"ðŸŸ  STALE\\\",\\r\\n      \\\"ðŸ”´ DOWN\\\"\\r\\n    ),\\r\\n    Age_Display = CASE(\\r\\n      Seconds_Ago < 60, CONCAT(TO_STRING(Seconds_Ago), \\\"s\\\"),\\r\\n      Seconds_Ago < 3600, CONCAT(TO_STRING(Minutes_Ago), \\\"m\\\"),\\r\\n      CONCAT(TO_STRING(ROUND(Minutes_Ago / 60.0, 1)), \\\"h\\\")\\r\\n    )\\r\\n| KEEP Router, Neighbor, Status, Age_Display, Seconds_Ago, last_seen, packet_count\\r\\n| SORT Neighbor ASC\\r\\n\"},\"visualization\":{\"layerId\":\"7ecd0cae-bc23-47c3-a33d-5ae98155b91d\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"Router\"},{\"columnId\":\"Neighbor\"},{\"columnId\":\"Status\"},{\"columnId\":\"Age_Display\"},{\"columnId\":\"Seconds_Ago\"}]},\"adHocDataViews\":{\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\":{\"id\":\"fd359f9d0c3d47d266c844fee3b899897d8bda76d3d134ee79f3788c46041166\",\"title\":\"metrics-snmp.lldp-prod\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"metrics-snmp.lldp-prod\",\"allowHidden\":false,\"managed\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsDatatable\",\"version\":2}},\"panelIndex\":\"dcfb5d34-c36a-42f1-a288-79a37ba75d67\",\"gridData\":{\"y\":15,\"x\":0,\"w\":48,\"h\":16,\"i\":\"dcfb5d34-c36a-42f1-a288-79a37ba75d67\",\"sectionId\":\"c5d78583-a997-4f2e-8406-86f5182bfb80\"}}]","sections":[{"collapsed":false,"gridData":{"i":"c5d78583-a997-4f2e-8406-86f5182bfb80","y":43},"title":"Global View"}],"timeRestore":false,"title":"CSR23 - Interface Status"},"coreMigrationVersion":"8.8.0","created_at":"2026-01-13T21:27:46.326Z","created_by":"u_3Nw46n3foUT46fePQgTyTFcyWpMQfiiugL9uw1TPP28_0","id":"ad0dbb9f-d516-4d9f-b574-37ecc24fa7ea","managed":false,"references":[],"type":"dashboard","typeMigrationVersion":"10.3.0","updated_at":"2026-02-05T19:59:44.436Z","updated_by":"u_3Nw46n3foUT46fePQgTyTFcyWpMQfiiugL9uw1TPP28_0","version":"WzIyNjIsMV0="}
{"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":1,"missingRefCount":0,"missingReferences":[]}
[1mdiff --git a/configs/logstash/pipeline/snmp-traps.conf b/configs/logstash/pipeline/snmp-traps.conf[m
[1mindex 2dd0eab..0643402 100644[m
[1m--- a/configs/logstash/pipeline/snmp-traps.conf[m
[1m+++ b/configs/logstash/pipeline/snmp-traps.conf[m
[36m@@ -29,8 +29,8 @@[m [mfilter {[m
 output {[m
   stdout { codec => rubydebug }[m
   elasticsearch {[m
[31m-    hosts => ["https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443"][m
[31m-    api_key => "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    hosts => ["https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443"][m
[32m+[m[32m    api_key => "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     data_stream => true[m
     data_stream_type => "logs"[m
     data_stream_dataset => "snmp.trap"[m
[1mdiff --git a/configs/otel/otel-collector.yml b/configs/otel/otel-collector.yml[m
[1mindex 5ddb3dd..58c20d1 100644[m
[1m--- a/configs/otel/otel-collector.yml[m
[1m+++ b/configs/otel/otel-collector.yml[m
[36m@@ -1935,8 +1935,8 @@[m [mprocessors:[m
 # ========================================[m
 exporters:[m
   elasticsearch/system:[m
[31m-    endpoints: [ "https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443" ][m
[31m-    api_key: "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    endpoints: [ "https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443" ][m
[32m+[m[32m    api_key: "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     mapping:[m
       mode: ecs[m
     metrics_dynamic_index:[m
[36m@@ -1944,8 +1944,8 @@[m [mexporters:[m
     metrics_index: "metrics-snmp.system-prod"[m
   [m
   elasticsearch/memory:[m
[31m-    endpoints: [ "https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443" ][m
[31m-    api_key: "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    endpoints: [ "https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443" ][m
[32m+[m[32m    api_key: "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     mapping:[m
       mode: ecs[m
     metrics_dynamic_index:[m
[36m@@ -1953,8 +1953,8 @@[m [mexporters:[m
     metrics_index: "metrics-snmp.memory-prod"[m
   [m
   elasticsearch/interface:[m
[31m-    endpoints: [ "https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443" ][m
[31m-    api_key: "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    endpoints: [ "https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443" ][m
[32m+[m[32m    api_key: "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     mapping:[m
       mode: ecs[m
     metrics_dynamic_index:[m
[36m@@ -1962,8 +1962,8 @@[m [mexporters:[m
     metrics_index: "metrics-snmp.interface-prod"[m
   [m
   elasticsearch/ipstats:[m
[31m-    endpoints: [ "https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443" ][m
[31m-    api_key: "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    endpoints: [ "https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443" ][m
[32m+[m[32m    api_key: "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     mapping:[m
       mode: ecs[m
     metrics_dynamic_index:[m
[36m@@ -1971,8 +1971,8 @@[m [mexporters:[m
     metrics_index: "metrics-snmp.ipstats-prod"[m
   [m
   elasticsearch/tcp:[m
[31m-    endpoints: [ "https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443" ][m
[31m-    api_key: "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    endpoints: [ "https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443" ][m
[32m+[m[32m    api_key: "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     mapping:[m
       mode: ecs[m
     metrics_dynamic_index:[m
[36m@@ -1980,8 +1980,8 @@[m [mexporters:[m
     metrics_index: "metrics-snmp.tcp-prod"[m
   [m
   elasticsearch/udp:[m
[31m-    endpoints: [ "https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443" ][m
[31m-    api_key: "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    endpoints: [ "https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443" ][m
[32m+[m[32m    api_key: "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     mapping:[m
       mode: ecs[m
     metrics_dynamic_index:[m
[36m@@ -1989,8 +1989,8 @@[m [mexporters:[m
     metrics_index: "metrics-snmp.udp-prod"[m
   [m
   elasticsearch/arp:[m
[31m-    endpoints: [ "https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443" ][m
[31m-    api_key: "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    endpoints: [ "https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443" ][m
[32m+[m[32m    api_key: "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     mapping:[m
       mode: ecs[m
     metrics_dynamic_index:[m
[36m@@ -1998,8 +1998,8 @@[m [mexporters:[m
     metrics_index: "metrics-snmp.arp-prod"[m
   [m
   elasticsearch/lldp:[m
[31m-    endpoints: [ "https://gcp-telco-9-3-55a713.es.us-west2.gcp.elastic-cloud.com:443" ][m
[31m-    api_key: "RzhSdXc1b0I4Y3k0Mlh5WG91WWE6UEI0blZXNk85Yk80R2lURXBzNllEZw=="[m
[32m+[m[32m    endpoints: [ "https://network-demo-f289e8.es.us-central1.gcp.cloud.es.io:443" ][m
[32m+[m[32m    api_key: "aEFZNHJwb0I5TXhyMmdZdVBHQmU6Z0E1cElQYlgyeFJtQmQwRzFlcHNlQQ=="[m
     mapping:[m
       mode: ecs[m
     metrics_dynamic_index:[m
[1mdiff --git a/ospf-network.clab.yml b/ospf-network.clab.yml[m
[1mindex 9ce2213..6224966 100644[m
[1m--- a/ospf-network.clab.yml[m
[1m+++ b/ospf-network.clab.yml[m
[36m@@ -24,8 +24,8 @@[m [mtopology:[m
       # Network config will be done by containerlab automatically[m
       mgmt-ipv4: 172.20.20.50[m
       env:[m
[31m-        FLEET_URL: https://f289e81a77fd4c2a9bdbb71c829e7918.fleet.us-central1.gcp.cloud.es.io:443[m
[31m-        FLEET_ENROLLMENT_TOKEN: TWxwOVFab0JNbmRCZ1cwSktGemM6UVlYRHFIWE5kdFNJLVpVLWxmRVZwQQ==[m
[32m+[m[32m        FLEET_URL: ${FLEET_URL}[m
[32m+[m[32m        FLEET_ENROLLMENT_TOKEN: ${FLEET_ENROLLMENT_TOKEN}[m
         FLEET_ENROLL: '1'[m
         FLEET_INSECURE: '1'[m
       cap-add:[m
[1mdiff --git a/scripts/configure-elasticsearch.sh b/scripts/configure-elasticsearch.sh[m
[1mindex a0de693..f6d9981 100755[m
[1m--- a/scripts/configure-elasticsearch.sh[m
[1m+++ b/scripts/configure-elasticsearch.sh[m
[36m@@ -154,6 +154,37 @@[m [mtest_elasticsearch() {[m
     fi[m
 }[m
 [m
[32m+[m[32m# Function to update OTel Collector configuration[m
[32m+[m[32mupdate_otel_collector() {[m
[32m+[m[32m    local endpoint=$1[m
[32m+[m[32m    local api_key=$2[m
[32m+[m[41m    [m
[32m+[m[32m    OTEL_CONFIG="$HOME/ospf-otel-lab/configs/otel/otel-collector.yml"[m
[32m+[m[41m    [m
[32m+[m[32m    echo ""[m
[32m+[m[32m    echo "Updating OTel Collector configuration..."[m
[32m+[m[41m    [m
[32m+[m[32m    if [ ! -f "$OTEL_CONFIG" ]; then[m
[32m+[m[32m        echo "âš  OTel config not found: $OTEL_CONFIG"[m
[32m+[m[32m        return 1[m
[32m+[m[32m    fi[m
[32m+[m[41m    [m
[32m+[m[32m    # Backup current config[m
[32m+[m[32m    cp "$OTEL_CONFIG" "${OTEL_CONFIG}.backup-$(date +%s)"[m
[32m+[m[41m    [m
[32m+[m[32m    # Update all elasticsearch exporter endpoints and api_keys[m
[32m+[m[32m    sed -i "s|endpoints: \[ \"https://[^\"]*\" \]|endpoints: [ \"$endpoint\" ]|g" "$OTEL_CONFIG"[m
[32m+[m[32m    sed -i "s|api_key: \"[^\"]*\"|api_key: \"$api_key\"|g" "$OTEL_CONFIG"[m
[32m+[m[41m    [m
[32m+[m[32m    echo "âœ“ OTel Collector configuration updated"[m
[32m+[m[41m    [m
[32m+[m[32m    # Restart collector if running[m
[32m+[m[32m    if docker ps --format '{{.Names}}' | grep -q "clab-ospf-network-otel-collector"; then[m
[32m+[m[32m        read -p "Restart OTel Collector? (Y/n): " restart[m
[32m+[m[32m        [[ ! $restart =~ ^[Nn]$ ]] && docker restart clab-ospf-network-otel-collector >/dev/null 2>&1 && echo "âœ“ OTel Collector restarted"[m
[32m+[m[32m    fi[m
[32m+[m[32m}[m
[32m+[m
 # Function to configure Elasticsearch[m
 configure_elasticsearch() {[m
     echo "========================================="[m
[36m@@ -411,6 +442,9 @@[m [mecho ""[m
 [m
 # Update Logstash[m
 update_logstash_pipeline "$ES_ENDPOINT" "$ES_API_KEY"[m
[32m+[m[32m# Update OTel Collector[m
[32m+[m[32mupdate_otel_collector "$ES_ENDPOINT" "$ES_API_KEY"[m
[32m+[m
 [m
 # Update topology if script exists[m
 if [ -f "$HOME/ospf-otel-lab/scripts/update-topology-from-env.sh" ]; then[m
